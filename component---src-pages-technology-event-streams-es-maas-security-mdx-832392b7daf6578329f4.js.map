{"version":3,"sources":["webpack:///./node_modules/gatsby-theme-carbon/src/components/PageHeader/index.js","webpack:///./node_modules/gatsby-theme-carbon/src/components/PageHeader/PageHeader.js","webpack:///./node_modules/gatsby-theme-carbon/src/components/EditLink/index.js","webpack:///./node_modules/gatsby-theme-carbon/src/components/EditLink/EditLink.js","webpack:///./node_modules/gatsby-theme-carbon/src/components/PageTabs/index.js","webpack:///./node_modules/gatsby-theme-carbon/src/components/PageTabs/PageTabs.js","webpack:///./node_modules/gatsby-theme-carbon/src/components/LastModifiedDate/index.js","webpack:///./node_modules/gatsby-theme-carbon/src/components/LastModifiedDate/LastModifiedDate.js","webpack:///./node_modules/gatsby-theme-carbon/src/templates/Default.js","webpack:///./src/pages/technology/event-streams/es-maas/security.mdx","webpack:///./node_modules/gatsby-theme-carbon/src/components/EditLink/EditLink.module.scss","webpack:///./node_modules/gatsby-theme-carbon/src/components/PageTabs/PageTabs.module.scss","webpack:///./node_modules/gatsby-theme-carbon/src/components/LastModifiedDate/last-modified-date.module.scss","webpack:///./node_modules/gatsby-theme-carbon/src/components/PageHeader/PageHeader.module.scss"],"names":["PageHeader","title","theme","tabs","className","cx","styles","pageHeader","withTabs","length","darkMode","id","text","EditLink","relativePagePath","repositoryProp","repository","useStaticQuery","site","siteMetadata","baseUrl","subDirectory","href","branch","row","link","PageTabs","render","this","props","slug","currentTab","split","filter","Boolean","slice","pageTabs","map","tab","slugifiedTab","slugify","lower","strict","selected","currentTabRegex","RegExp","replace","key","selectedItem","listItem","to","tabsContainer","aria-label","list","React","Component","LastModifiedDate","date","lastModified","Date","toLocaleDateString","day","year","month","Default","pageContext","children","location","Title","frontmatter","titleType","frontmatterTheme","description","keywords","interiorTheme","useMetadata","pathPrefix","pathname","Layout","homepage","pageTitle","pageDescription","pageKeywords","label","Main","padded","NextPrevious","Utils","_frontmatter","makeShortcode","name","console","warn","AnchorLinks","AnchorLink","InlineNotification","layoutProps","MDXLayout","DefaultLayout","MDXContent","components","mdxType","parentName","kind","isMDXComponent","module","exports"],"mappings":"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","file":"component---src-pages-technology-event-streams-es-maas-security-mdx-832392b7daf6578329f4.js","sourcesContent":["import PageHeader from './PageHeader';\n\nexport default PageHeader;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport cx from 'classnames';\nimport styles from './PageHeader.module.scss';\n\nconst PageHeader = ({ title, theme, tabs = [] }) => (\n  <div\n    className={cx(styles.pageHeader, {\n      [styles.withTabs]: tabs.length,\n      [styles.darkMode]: theme === 'dark',\n    })}>\n    <div className=\"bx--grid\">\n      <div className=\"bx--row\">\n        <div className=\"bx--col-lg-12\">\n          <h1 id=\"page-title\" className={styles.text}>\n            {title}\n          </h1>\n        </div>\n      </div>\n    </div>\n  </div>\n);\n\nPageHeader.propTypes = {\n  /**\n   * Specify the title for the page\n   */\n  title: PropTypes.node,\n};\n\nexport default PageHeader;\n","import EditLink from './EditLink';\n\nexport default EditLink;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { graphql, useStaticQuery } from 'gatsby';\n\nimport { link, row } from './EditLink.module.scss';\n\nconst EditLink = ({ relativePagePath, repository: repositoryProp }) => {\n  const {\n    site: {\n      siteMetadata: { repository },\n    },\n  } = useStaticQuery(graphql`\n    query REPOSITORY_QUERY {\n      site {\n        siteMetadata {\n          repository {\n            baseUrl\n            subDirectory\n            branch\n          }\n        }\n      }\n    }\n  `);\n\n  const { baseUrl, subDirectory, branch } = repositoryProp || repository;\n\n  const href = `${baseUrl}/edit/${branch}${subDirectory}/src/pages${relativePagePath}`;\n\n  return baseUrl ? (\n    <div className={`bx--row ${row}`}>\n      <div className=\"bx--col\">\n        <a className={link} href={href}>\n          Edit this page on GitHub\n        </a>\n      </div>\n    </div>\n  ) : null;\n};\n\nEditLink.propTypes = {\n  repository: PropTypes.shape({\n    baseUrl: PropTypes.string,\n    subDirectory: PropTypes.string,\n    branch: PropTypes.string,\n  }),\n  relativePagePath: PropTypes.string,\n};\n\nexport default EditLink;\n","import PageTabs from './PageTabs';\n\nexport default PageTabs;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { Link } from 'gatsby';\nimport slugify from 'slugify';\nimport cx from 'classnames';\n\nimport {\n  tabsContainer,\n  list,\n  selectedItem,\n  listItem,\n  link,\n} from './PageTabs.module.scss';\n\nexport default class PageTabs extends React.Component {\n  render() {\n    const { title, tabs, slug } = this.props;\n    const currentTab = slug.split('/').filter(Boolean).slice(-1)[0];\n\n    const pageTabs = tabs.map((tab) => {\n      const slugifiedTab = slugify(tab, { lower: true, strict: true });\n      const selected = slugifiedTab === currentTab;\n      // matches with or without trailing slash: /?\n      // matches with or without hash link: (#.*)?\n      const currentTabRegex = new RegExp(`${currentTab}/?(#.*)?$`);\n      const href = slug.replace(currentTabRegex, slugifiedTab);\n      return (\n        <li key={tab} className={cx({ [selectedItem]: selected }, listItem)}>\n          <Link className={link} to={`${href}`}>\n            {tab}\n          </Link>\n        </li>\n      );\n    });\n\n    return (\n      <div className={tabsContainer}>\n        <div className=\"bx--grid\">\n          <div className=\"bx--row\">\n            <div className=\"bx--col-lg-12 bx--col-no-gutter\">\n              <nav aria-label={title}>\n                <ul className={list}>{pageTabs}</ul>\n              </nav>\n            </div>\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\nPageTabs.propTypes = {\n  tabs: PropTypes.array,\n  slug: PropTypes.string,\n};\n","import LastModifiedDate from './LastModifiedDate';\n\nexport default LastModifiedDate;\n","import React from 'react';\nimport { Row, Column } from '../Grid';\nimport styles from './last-modified-date.module.scss';\n\nconst LastModifiedDate = ({ date }) => {\n  const options = {\n    day: '2-digit',\n    year: 'numeric',\n    month: 'long',\n  };\n\n  const lastModified = new Date(date);\n\n  return date ? (\n    <Row className={styles.row}>\n      <Column>\n        <div className={styles.text}>\n          Page last updated: {lastModified.toLocaleDateString('en-GB', options)}\n          {/* // https://www-03preprod.ibm.com/support/knowledgecenter/ibm_style/dates-and-times.html */}\n        </div>\n      </Column>\n    </Row>\n  ) : null;\n};\nexport default LastModifiedDate;\n","import React from 'react';\nimport slugify from 'slugify';\nimport { useStaticQuery, graphql } from 'gatsby';\n\nimport Utils from '../components/Utils';\nimport Layout from '../components/Layout';\nimport PageHeader from '../components/PageHeader';\nimport EditLink from '../components/EditLink';\nimport NextPrevious from '../components/NextPrevious';\nimport PageTabs from '../components/PageTabs';\nimport Main from '../components/Main';\nimport useMetadata from '../util/hooks/useMetadata';\nimport LastModifiedDate from '../components/LastModifiedDate';\n\nconst Default = ({ pageContext, children, location, Title }) => {\n  const { frontmatter = {}, relativePagePath, titleType } = pageContext;\n  const {\n    tabs,\n    title,\n    theme: frontmatterTheme,\n    description,\n    keywords,\n    date,\n  } = frontmatter;\n\n  const { interiorTheme } = useMetadata();\n\n  // get the path prefix if it exists\n  const {\n    site: { pathPrefix },\n  } = useStaticQuery(graphql`\n    query PATH_PREFIX_QUERY {\n      site {\n        pathPrefix\n      }\n    }\n  `);\n\n  // let gatsby handle prefixing\n  const slug = pathPrefix\n    ? location.pathname.replace(pathPrefix, '')\n    : location.pathname;\n\n  const getCurrentTab = () => {\n    if (!tabs) return '';\n    return (\n      slug.split('/').filter(Boolean).slice(-1)[0] ||\n      slugify(tabs[0], { lower: true })\n    );\n  };\n\n  const currentTab = getCurrentTab();\n\n  const theme = frontmatterTheme || interiorTheme;\n\n  return (\n    <Layout\n      tabs={tabs}\n      homepage={false}\n      theme={theme}\n      pageTitle={title}\n      pageDescription={description}\n      pageKeywords={keywords}\n      titleType={titleType}>\n      <PageHeader\n        title={Title ? <Title /> : title}\n        label=\"label\"\n        tabs={tabs}\n        theme={theme}\n      />\n      {tabs && (\n        <PageTabs\n          title={title}\n          slug={slug}\n          tabs={tabs}\n          currentTab={currentTab}\n        />\n      )}\n      <Main padded>\n        {children}\n        <EditLink relativePagePath={relativePagePath} />\n        <LastModifiedDate date={date} />\n      </Main>\n      <NextPrevious\n        pageContext={pageContext}\n        location={location}\n        slug={slug}\n        tabs={tabs}\n        currentTab={currentTab}\n      />\n      <Utils />\n    </Layout>\n  );\n};\n\nexport default Default;\n","import * as React from 'react'\n  /* @jsx mdx */\nimport { mdx } from '@mdx-js/react';\n/* @jsxRuntime classic */\n\n/* @jsx mdx */\n\nimport DefaultLayout from \"/home/runner/work/refarch-eda/refarch-eda/docs/node_modules/gatsby-theme-carbon/src/templates/Default.js\";\nexport const _frontmatter = {};\n\nconst makeShortcode = name => function MDXDefaultShortcode(props) {\n  console.warn(\"Component \" + name + \" was not imported, exported, or provided by MDXProvider as global scope\");\n  return <div {...props} />;\n};\n\nconst AnchorLinks = makeShortcode(\"AnchorLinks\");\nconst AnchorLink = makeShortcode(\"AnchorLink\");\nconst InlineNotification = makeShortcode(\"InlineNotification\");\nconst layoutProps = {\n  _frontmatter\n};\nconst MDXLayout = DefaultLayout;\nexport default function MDXContent({\n  components,\n  ...props\n}) {\n  return <MDXLayout {...layoutProps} {...props} components={components} mdxType=\"MDXLayout\">\n\n\n    <p>{`This documentation aims to be a introductory hands-on lab for the security feature of IBM Event Streams.`}</p>\n    <AnchorLinks mdxType=\"AnchorLinks\">\n  <AnchorLink mdxType=\"AnchorLink\">Security considerations</AnchorLink>\n  <AnchorLink mdxType=\"AnchorLink\">IAM Concept Summary</AnchorLink>\n  <AnchorLink mdxType=\"AnchorLink\">Event Streams access management concepts</AnchorLink>\n  <AnchorLink mdxType=\"AnchorLink\">Pre-requisites</AnchorLink>\n  <AnchorLink mdxType=\"AnchorLink\">Add access group to the account using IAM</AnchorLink>\n  <AnchorLink mdxType=\"AnchorLink\">Limiting topic access to group of users</AnchorLink>\n  <AnchorLink mdxType=\"AnchorLink\">Authentication with API Keys</AnchorLink>\n  <AnchorLink mdxType=\"AnchorLink\">Control application access</AnchorLink>\n  <AnchorLink mdxType=\"AnchorLink\">Encryption at rest</AnchorLink>\n    </AnchorLinks>\n    <h2>{`Security considerations`}</h2>\n    <p>{`There are a lot of security requirements to address to secure platform and solution, in this section we will list some of them`}</p>\n    <ul>\n      <li parentName=\"ul\"><strong parentName=\"li\">{`Secure data access`}</strong>{` which include data in motion or at rest encryption, connection and isolation via private network. Support to Virtual Private Network and bring your own keys.`}</li>\n      <li parentName=\"ul\"><strong parentName=\"li\">{`Control access to Kafka cluster`}</strong>{` and resources like topics, using role based access control, SAML tokens and TLS certificates. Bring your own keys.`}</li>\n      <li parentName=\"ul\"><strong parentName=\"li\">{`Monitor and audit`}</strong>{` to provide audit log and secured APIs access`}</li>\n      <li parentName=\"ul\"><strong parentName=\"li\">{`User onboarding`}</strong>{`: define application specific service accounts, and admin users for devOps staff. `}</li>\n    </ul>\n    <h2>{`IAM Concept Summary`}</h2>\n    <p>{`To undertand the Identity and access management you can read `}<a parentName=\"p\" {...{\n        \"href\": \"https://cloud.ibm.com/docs/iam?topic=iam-iamoverview\"\n      }}>{`this article`}</a>{`.`}</p>\n    <p>{`To summarize:`}</p>\n    <ul>\n      <li parentName=\"ul\">{`Account represents the billable entity, and can have multiple users.`}</li>\n      <li parentName=\"ul\">{`Users are given access to resource groups.`}</li>\n      <li parentName=\"ul\"><em parentName=\"li\">{` Identity`}</em>{` concept consists of user identities, service and app identities, API keys, and resources.`}</li>\n      <li parentName=\"ul\">{`Applications and IBM Cloud Services are identified with a service ID.`}</li>\n      <li parentName=\"ul\">{`To restrict permissions for using specific services, you can assign specific access policies to the service ID and user ID`}</li>\n      <li parentName=\"ul\">{`Resource groups are here to organize any type of resources (services, clusters, VMs…) that are managed by  Identity and Access Management (IAM).`}</li>\n      <li parentName=\"ul\">{`Resource groups are not scoped by location.`}</li>\n      <li parentName=\"ul\">{`API keys can be use to authenticate user or a service / application.`}</li>\n      <li parentName=\"ul\">{`To control access three components are used: access groups, resources and access policies.`}\n        <ul parentName=\"li\">\n          <li parentName=\"ul\">{`Access group are used to organize a set of users and service IDs into a single entity and easily assign permissions via `}<em parentName=\"li\">{`access policies`}</em></li>\n          <li parentName=\"ul\"><em parentName=\"li\">{`Policies`}</em>{` give permission to access account resources. Policies include a subject (user, service, access group), target (resource), and role.`}</li>\n          <li parentName=\"ul\">{`Policy can be set to all resources in a resource group`}</li>\n          <li parentName=\"ul\">{`There are two types of access `}<em parentName=\"li\">{`roles`}</em>{`: platform management and service access.`}</li>\n        </ul>\n      </li>\n    </ul>\n    <p>{`Here is the main page for the IAM service on IBM Cloud where an account owner can manage the different components of the security control:`}</p>\n    <img {...{\n      \"src\": \"./images/iam-main-page.png\",\n      \"alt\": \"1\"\n    }}></img>\n    <h2>{`Event Streams access management concepts`}</h2>\n    <p>{`This section is a quick overview of the `}<a parentName=\"p\" {...{\n        \"href\": \"https://cloud.ibm.com/docs/services/EventStreams?topic=eventstreams-security\"\n      }}>{`Managing access to your Event Streams resources`}</a>{` article.`}</p>\n    <h3>{`Roles`}</h3>\n    <p>{`Users can perform specific tasks when they are assigned to a role for which access policies are defined. The roles defined for Event Streams are `}<a parentName=\"p\" {...{\n        \"href\": \"https://cloud.ibm.com/docs/EventStreams?topic=EventStreams-security#what_secure\"\n      }}>{`Reader, Writer and Manager`}</a>{`.`}</p>\n    <ul>\n      <li parentName=\"ul\"><em parentName=\"li\">{`Reader`}</em>{`: Users can view Event Streams resources, and applications can only consume records`}</li>\n      <li parentName=\"ul\"><em parentName=\"li\">{`Writer`}</em>{` : Users can edit resource, and applications can produce and consume records`}</li>\n      <li parentName=\"ul\"><em parentName=\"li\">{`Manager`}</em>{`: Users can do privileged actions.`}</li>\n    </ul>\n    <h3>{`Assign access`}</h3>\n    <p>{`The product documentation addresses how to assign access in `}<a parentName=\"p\" {...{\n        \"href\": \"https://cloud.ibm.com/docs/EventStreams?topic=EventStreams-security#assign_access\"\n      }}>{`this section`}</a>{`.`}</p>\n    <p>{`The type of Kafka resources that may be secured are: `}<em parentName=\"p\">{`cluster, topic, group, or transaction id`}</em>{`. In this lab we will give topic access to users within a group and application by using service ID.`}</p>\n    <h2>{`Pre-requisites`}</h2>\n    <p>{`This lab requires the following components to work against:`}</p>\n    <ol>\n      <li parentName=\"ol\">{`An IBM Cloud account. Get a IBM Cloud Account by using the register link in `}<a parentName=\"li\" {...{\n          \"href\": \"https://cloud.ibm.com/login\"\n        }}>{`https://cloud.ibm.com/login`}</a>{`\nCreate a new account is free of charge.`}</li>\n      <li parentName=\"ol\">{`IBM Cloud CLI (`}<a parentName=\"li\" {...{\n          \"href\": \"https://cloud.ibm.com/docs/cli?topic=cloud-cli-getting-started\"\n        }}>{`https://cloud.ibm.com/docs/cli?topic=cloud-cli-getting-started`}</a>{`)`}</li>\n      <li parentName=\"ol\">{`IBM CLoud CLI Event Streams plugin (`}<inlineCode parentName=\"li\">{`ibmcloud plugin install event-streams`}</inlineCode>{`)`}</li>\n    </ol>\n    <h2>{`Add access group to the account using IAM`}</h2>\n    <p>{`The goal of this step is to create an access group to access Event Streams services as administrator.`}</p>\n    <ol>\n      <li parentName=\"ol\">\n        <p parentName=\"li\">{`From the IBM Cloud main page, go to the Manage > IAM menu on top right of IBM Cloud Dashboard page:`}</p>\n        <img parentName=\"li\" {...{\n          \"src\": \"./images/iam-access-1.png\",\n          \"alt\": \"2\"\n        }}></img>\n        <p parentName=\"li\">{`This should lead you to the main IAM page as illustrated in figure below:`}</p>\n        <img parentName=\"li\" {...{\n          \"src\": \"./images/iam-main-page.png\",\n          \"alt\": \"21\"\n        }}></img>\n      </li>\n      <li parentName=\"ol\">\n        <p parentName=\"li\">{`Under the Access Group, you can create a new group of users. This will be an administrator group:`}</p>\n        <img parentName=\"li\" {...{\n          \"src\": \"./images/iam-new-ag.png\",\n          \"alt\": \"3\"\n        }}></img>\n      </li>\n      <li parentName=\"ol\">\n        <p parentName=\"li\">{`Then add users to this newly created group, by selecting users from the list, (those users were invited to join the account at some time) and Click on `}<inlineCode parentName=\"p\">{`Add to group`}</inlineCode>{` link.`}</p>\n        <img parentName=\"li\" {...{\n          \"src\": \"./images/iam-ag-add-user.png\",\n          \"alt\": \"4\"\n        }}></img>\n      </li>\n      <li parentName=\"ol\">\n        <p parentName=\"li\">{`Finally, you want now to add `}<em parentName=\"p\">{`Access Policies`}</em>{` to control access to Event Streams clusters. For that click `}<em parentName=\"p\">{`Assign access`}</em>{` button:`}</p>\n        <img parentName=\"li\" {...{\n          \"src\": \"./images/iam-es-ap-1.png\",\n          \"alt\": \"5\"\n        }}></img>\n      </li>\n      <li parentName=\"ol\">\n        <p parentName=\"li\">{`Then select the type of resource (Event Streams), you want to define the access policy on:`}</p>\n        <img parentName=\"li\" {...{\n          \"src\": \"./images/iam-es-ap-2.png\",\n          \"alt\": \"6\"\n        }}></img>\n      </li>\n      <li parentName=\"ol\">\n        <p parentName=\"li\">{`Then specify that the group can manage all instances of Event Streams service. The condition applies to the service instance with a `}<em parentName=\"p\">{`Manager`}</em>{` role:`}</p>\n        <img parentName=\"li\" {...{\n          \"src\": \"./images/iam-es-ap-3.png\",\n          \"alt\": \"7\"\n        }}></img>\n      </li>\n      <li parentName=\"ol\">\n        <p parentName=\"li\">{`Add the policy and assign it to the group. You could stay in the same panel to add more target to the policy.`}</p>\n        <img parentName=\"li\" {...{\n          \"src\": \"./images/iam-es-ap-4.png\",\n          \"alt\": \"8\"\n        }}></img>\n      </li>\n      <li parentName=\"ol\">\n        <p parentName=\"li\">{`The newly created, `}<em parentName=\"p\">{`access policies for administer / manager`}</em>{` to any Event Streams services is now listed in the access group:`}</p>\n        <img parentName=\"li\" {...{\n          \"src\": \"./images/iam-es-ap-5.png\",\n          \"alt\": \"9\"\n        }}></img>\n      </li>\n    </ol>\n    <p>{`Any user who has a manager role for either ‘All’ services or ‘All’ Event Streams services in the same account will also have full access.`}</p>\n    <h2>{`Limiting topic access to group of users`}</h2>\n    <p>{`The product document illustrates some access control common scenarios in `}<a parentName=\"p\" {...{\n        \"href\": \"https://cloud.ibm.com/docs/services/EventStreams?topic=eventstreams-security#security_scenarios\"\n      }}>{`this section`}</a>{`. We recommend reading those settings.`}</p>\n    <p>{`In this step we are implementing one of the classical scenario: suppose we have a line of business that will create topics by applying a naming convention where topic name starts with a prefix like: `}<inlineCode parentName=\"p\">{`bn-lob1-*`}</inlineCode>{`.  We want users and service ID to  get read / write access to only those topics matching those prefix.`}</p>\n    <p>{`To do so you need to:`}</p>\n    <ol>\n      <li parentName=\"ol\">\n        <p parentName=\"li\">{`Add an access group to include member of the line of business: `}<inlineCode parentName=\"p\">{`bn-lob1-group`}</inlineCode></p>\n      </li>\n      <li parentName=\"ol\">\n        <p parentName=\"li\">{`Define an access policy with the following criterias:`}</p>\n        <ul parentName=\"li\">\n          <li parentName=\"ul\">{`Event streams as resource type`}</li>\n          <li parentName=\"ul\">{`All regions`}</li>\n          <li parentName=\"ul\">{`Specifying one of the Event Streams resource instance (the one you provisioned `}<a parentName=\"li\" {...{\n              \"href\": \"/refarch-eda/technology/event-streams/es-cloud/\"\n            }}>{`in this lab`}</a>{`)`}</li>\n          <li parentName=\"ul\">{`Select the service instance that hosts the target cluster`}</li>\n          <li parentName=\"ul\">{`Specify the resource type to be `}<strong parentName=\"li\">{`topic`}</strong></li>\n          <li parentName=\"ul\">{`And the resource ID to matches `}<inlineCode parentName=\"li\">{`bn-lob1-*`}</inlineCode></li>\n        </ul>\n        <img parentName=\"li\" {...{\n          \"src\": \"./images/iam-es-top-1.png\",\n          \"alt\": \"T1\"\n        }}></img>\n        <ul parentName=\"li\">\n          <li parentName=\"ul\">{`Then add a second rule to enforce read access at the cluster level:`}</li>\n        </ul>\n        <img parentName=\"li\" {...{\n          \"src\": \"./images/iam-es-top-2.png\",\n          \"alt\": \"T2\"\n        }}></img>\n        <ul parentName=\"li\">\n          <li parentName=\"ul\">{`Assign the two rules:`}</li>\n        </ul>\n        <img parentName=\"li\" {...{\n          \"src\": \"./images/iam-es-top-3.png\",\n          \"alt\": \"T3\"\n        }}></img>\n        <ul parentName=\"li\">\n          <li parentName=\"ul\">{`The group has the two access policies:`}</li>\n        </ul>\n        <img parentName=\"li\" {...{\n          \"src\": \"./images/iam-es-top-4.png\",\n          \"alt\": \"T4\"\n        }}></img>\n      </li>\n    </ol>\n    <h2>{`Authentication with API Keys`}</h2>\n    <p>{`To let an application to remotely authenticate itself, Event Streams uses API keys.\nThe goal of this section, is to create API keys so applications, tools, scripts can connect to the newly created IBM Event Streams instance. You will create three keys for the different roles: creation of topics, read access only and read/write access.`}</p>\n    <ol>\n      <li parentName=\"ol\">\n        <p parentName=\"li\">{`In your IBM Event Streams instance service page, click on `}<em parentName=\"p\">{`Service credentials`}</em>{` on the left hand side menu:`}</p>\n        <img parentName=\"li\" {...{\n          \"src\": \"images/8.png\",\n          \"alt\": \"8\"\n        }}></img>\n      </li>\n      <li parentName=\"ol\">\n        <p parentName=\"li\">{`Observe, there is no service credentials yet and click on the `}<em parentName=\"p\">{`New credential`}</em>{` button on the top right corner:`}</p>\n        <img parentName=\"li\" {...{\n          \"src\": \"images/9.png\",\n          \"alt\": \"9\"\n        }}></img>\n      </li>\n      <li parentName=\"ol\">\n        <p parentName=\"li\">{`Enter a name for your service, choose `}<em parentName=\"p\">{`Manager`}</em>{` role for now and click on `}<em parentName=\"p\">{`Add`}</em>{`:`}</p>\n        <img parentName=\"li\" {...{\n          \"src\": \"images/10.png\",\n          \"alt\": \"10\"\n        }}></img>\n      </li>\n      <li parentName=\"ol\">\n        <p parentName=\"li\">{`You should now see your new service credential and be able to inspect its details if you click on its dropdown arrow on it left:`}</p>\n        <img parentName=\"li\" {...{\n          \"src\": \"images/11.png\",\n          \"alt\": \"11\"\n        }}></img>\n      </li>\n    </ol>\n    <p>{`Using the same process you can add a credential for Writer Role. For the Reader role you will use the CLI in the next section.`}</p>\n    <p>{`API Key is used for the `}<inlineCode parentName=\"p\">{`sasl.jaas.config`}</inlineCode>{` conncection properties in Kafka consumer or producer:`}</p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-properties\"\n      }}>{`security.protocol=SASL_SSL\nssl.protocol=TLSv1.2\nssl.enabled.protocols=TLSv1.2\nssl.endpoint.identification.algorithm=HTTPS\nsasl.mechanism=PLAIN\nsasl.jaas.config=org.apache.kafka.common.security.plain.PlainLoginModule required username=\"token\" password=\"am....5\";\n`}</code></pre>\n    <h3>{`Adding Keys with CLI`}</h3>\n    <p>{`You could create the service credentials using the CLI, so you will add `}<em parentName=\"p\">{`Reader`}</em>{` role API Keys:`}</p>\n    <ol>\n      <li parentName=\"ol\">\n        <p parentName=\"li\">{`First you can explore the service credentials created previously, using the CLI with `}<inlineCode parentName=\"p\">{`$ ibmcloud resource service-key <service_credentials_name>`}</inlineCode>{`:`}</p>\n        <pre parentName=\"li\"><code parentName=\"pre\" {...{\n            \"className\": \"language-shell\"\n          }}>{`$ ibmcloud resource service-key demo-serv-cred\nRetrieving service key demo-serv-cred in all resource groups under account bill's Account as A......\n\nName:          demo-serv-cred\nID:            crn:v1:bluemix:public:messagehub:eu-de:a/b636d1d8.....8cfa:b05be932-2....02e687a:resource-key:4ba348d2-...-360e983d99c5\nCreated At:    Tue May 12 10:53:02 UTC 2020\nState:         active\nCredentials:\n            api_key:                  *****\n            apikey:                   *****\n            iam_apikey_description:   Auto-generated for key 4ba348d2-5fcf-4c13-a265-360e983d99c5\n            iam_apikey_name:          demo-serv-cred\n            iam_role_crn:             crn:v1:bluemix:public:iam::::serviceRole:Manager\n            iam_serviceid_crn:        crn:v1:bluemix:public:iam-identity::a/b636d1d83e34d7ae7e904591ac248cfa::serviceid:ServiceId-380e866c-5914-4e01-85c4-d80bd1b8a899\n            instance_id:              b05be932-2a60-4315-951d-a6dd902e687a\n            kafka_admin_url:          https://mh-tcqsppdpzlrkdmkbgmgl-4c201a12d7add7c99d2b22e361c6f175-0000.eu-de.containers.appdomain.cloud\n            kafka_brokers_sasl:       [kafka-2.mh-tcqsppdpzlrkdmkbgmgl-4c201a12d7add7c99d2b22e361c6f175-0000.eu-de.containers.appdomain.cloud:9093 kafka-0.mh-tcqsppdpzlrkdmkbgmgl-4c201a12d7add7c99d2b22e361c6f175-0000.eu-de.containers.appdomain.cloud:9093 kafka-1.mh-tcqsppdpzlrkdmkbgmgl-4c201a12d7add7c99d2b22e361c6f175-0000.eu-de.containers.appdomain.cloud:9093]\n            kafka_http_url:           https://mh-tcqsppdpzlrkdmkbgmgl-4c201a12d7add7c99d2b22e361c6f175-0000.eu-de.containers.appdomain.cloud\n            password:                 *****\n            user:                     token\n`}</code></pre>\n      </li>\n      <li parentName=\"ol\">\n        <p parentName=\"li\">{`Add a `}<inlineCode parentName=\"p\">{`Reader`}</inlineCode>{` role API key:`}</p>\n        <pre parentName=\"li\"><code parentName=\"pre\" {...{\n            \"className\": \"language-shell\"\n          }}>{`# Get the name of the event streams service:\nibmcloud resource service-instances\nibmcloud resource service-key-create bn-lob1-app-reader Reader --instance-name \"Event Streams-wn\"\n\nOK\nService key crn:v1:bluemix:public:messagehub:eu-de:a/b6...248cfa:b05...e687a:resource-key:7ee00.....15a2 was created.\n\nName:          bn-lob1-reader\nID:            crn:v1:bluemix:public:messagehub:eu-de:a/b636d..fa:b05b..7a:resource-key:7ee0042.....b15a2\nCreated At:    Wed May 13 00:33:49 UTC 2020\nState:         active\nCredentials:\n            api_key:                  xrvMI4PQYmdOcUwPRUJXy6Xlo9UCY9xywNUPiU3jjpKH\n            apikey:                   xrvMI4PQYmdOcUwPRUJXy6Xlo9UCY9xywNUPiU3jjpKH\n            iam_apikey_description:   Auto-generated for key 7ee0042f-572b-46f6-b9cc-912cc63b15a2\n            iam_apikey_name:          bn-lob1-reader\n            iam_role_crn:             crn:v1:bluemix:public:iam::::serviceRole:Reader\n            iam_serviceid_crn:        crn:v1:bluemix:public:iam-identity::a/b636d1....48cfa::serviceid:ServiceId-b4d3....18af1\n            instance_id:              b05....687a\n            kafka_admin_url:          https://mh-tcqsppdpzlrkdmkbgmgl-4c201a...1c6f175-0000.eu-de.containers.appdomain.cloud\n            kafka_brokers_sasl:       [kafka-0.mh-tcqsppdpzlrkdmkbgmgl-4c2...175-0000.eu-de.containers.appdomain.cloud:9093....]\n            kafka_http_url:           https://mh-tcqsppdpzlrkdmkbgmgl-4c20...-0000.eu-de.containers.appdomain.cloud\n            password:                 xr......KH\n            user:                     token\n`}</code></pre>\n      </li>\n    </ol>\n    <h2>{`Control application access`}</h2>\n    <p>{`The last step of this lab is to add a specific IAM group for applications so you can link any future applications to a group so that producer and consumer codes using the Writer role API key as defined previously\ncan read and write to specific topic as defined by an access policy.`}</p>\n    <p>{`We want to give this Writer role API key to the `}<inlineCode parentName=\"p\">{`bn-lob1-app`}</inlineCode>{` group, so applications within this group can create topics and R/W on those topics with the name `}<inlineCode parentName=\"p\">{`bn-lob1-*`}</inlineCode>{`.\nTo do so, we have to add to the Access Group `}<inlineCode parentName=\"p\">{`bn-lob1-app`}</inlineCode>{`, the service ID that maps the Key created above:`}</p>\n    <ol>\n      <li parentName=\"ol\">\n        <p parentName=\"li\">{`In IAM Access groups select the service IDs tab and click on add service id button:`}</p>\n        <img parentName=\"li\" {...{\n          \"src\": \"./images/iam-ag-serv-1.png\",\n          \"alt\": \"SI1\"\n        }}></img>\n      </li>\n      <li parentName=\"ol\">\n        <p parentName=\"li\">{`Search for the service ID name: `}<inlineCode parentName=\"p\">{`bn-lob1-writer`}</inlineCode>{` and`}</p>\n        <img parentName=\"li\" {...{\n          \"src\": \"./images/iam-ag-serv-2.png\",\n          \"alt\": \"SI2\"\n        }}></img>\n      </li>\n      <li parentName=\"ol\">\n        <p parentName=\"li\">{`You should get this result:`}</p>\n        <img parentName=\"li\" {...{\n          \"src\": \"./images/iam-ag-serv-3.png\",\n          \"alt\": \"SI3\"\n        }}></img>\n      </li>\n    </ol>\n    <h3>{`Kafka Streams specifics`}</h3>\n    <p>{`A lot of Kafka implementations use Kafka Streams API, in this case the applications need to have `}<inlineCode parentName=\"p\">{`Manager`}</inlineCode>{` role on topic resource,\nand Reader role for cluster and group with a Manager API Key.`}</p>\n    <h3>{`Connecting application using API Key`}</h3>\n    <p>{`To connect to Event Streams on cloud, we need to define consumer and producer common configuration as presented in the `}<a parentName=\"p\" {...{\n        \"href\": \"https://cloud.ibm.com/docs/EventStreams?topic=EventStreams-kafka_using#kafka_api_client\"\n      }}>{`product documentation`}</a></p>\n    <p>{`Here is an exemple of using reactive messaging in microprofile with the liberty kafka connector:`}</p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-properties\"\n      }}>{`mp.messaging.connector.liberty-kafka.security.protocol=SASL_SSL\nmp.messaging.connector.liberty-kafka.ssl.protocol=TLSv1.2\nmp.messaging.connector.liberty-kafka.sasl.mechanism=PLAIN\nmp.messaging.connector.liberty-kafka.sasl.jaas.config=\"org.apache.kafka.common.security.plain.PlainLoginModule required username=token password=longapikeycomingfromservicecredential;\"\n`}</code></pre>\n    <p>{`These properties could in fact be part of a secret in Kubernetes and used by the pod.`}</p>\n    <h2>{`Encryption at rest`}</h2>\n    <p>{`Event Streams stores message data at rest and message logs on encrypted disks. Event Streams supports customer-managed encryption with provided key: bring you own key. This feature is available on the Enterprise plan only. The `}<a parentName=\"p\" {...{\n        \"href\": \"https://cloud.ibm.com/docs/EventStreams?topic=EventStreams-managing_encryption\"\n      }}>{`product documentation`}</a>{` addresses in detail this capability.`}</p>\n    <p>{`In this section, we just want to present some step by step to play with Key Protect, defining root key, and get Wrapped Keys to be used for encryption.`}</p>\n    <h3>{`Create a Key Protect instance`}</h3>\n    <p>{`In the `}<inlineCode parentName=\"p\">{`Create resource`}</inlineCode>{` from the IBM Cloud dashboard page, select a `}<inlineCode parentName=\"p\">{`Key Protect`}</inlineCode>{` service, add a name, and select a resource pool:`}</p>\n    <img {...{\n      \"src\": \"./images/key-protect-1.png\",\n      \"alt\": \"kp1\"\n    }}></img>\n    <h3>{`Create a root key or upload yours`}</h3>\n    <p>{`Using the `}<inlineCode parentName=\"p\">{`Manage`}</inlineCode>{` menu of Key Protect, and `}<inlineCode parentName=\"p\">{`Add key`}</inlineCode>{` button:`}</p>\n    <img {...{\n      \"src\": \"./images/key-protect-2.png\",\n      \"alt\": \"kp2\"\n    }}></img>\n    <p>{`Specify to import your own key or create a new one. Give a name`}</p>\n    <img {...{\n      \"src\": \"./images/key-protect-3.png\",\n      \"alt\": \"kp3\"\n    }}></img>\n    <p>{`Keys are symmetric 256-bit keys, supported by the AES-CBC-PAD algorithm. For added security, keys are generated by FIPS 140-2 Level 3 certified hardware security modules (HSMs) that are located in secure IBM Cloud data centers`}</p>\n    <img {...{\n      \"src\": \"./images/key-protect-4.png\",\n      \"alt\": \"kp4\"\n    }}></img>\n    <p>{`Get the cloud resource name from the newly create key:`}</p>\n    <img {...{\n      \"src\": \"./images/key-protect-5.png\",\n      \"alt\": \"kp5\"\n    }}></img>\n    <h3>{`Get a Wrapped Key with API:`}</h3>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-shell\"\n      }}>{`export GUID=$(ibmcloud resource service-instance eda-KeyProtect --id | grep crn | awk '{print $2}’)\nexport TOKEN=$(ibmcloud iam oauth-tokens | awk '{print $4 }'\n)\ncurl -X POST https://us-south.kms.cloud.ibm.com/api/v2/keys/34f2598f-e6e9-4822-8f51-cd9036e537e8?action=wrap -H 'accept: application/vnd.ibm.kms.key_action+json'    -H 'authorization: Bearer $TOKEN' -H 'bluemix-instance: $GUID'  -H 'content-type: application/vnd.ibm.kms.key_action+json'\n`}</code></pre>\n    <h3>{`Authorize Event Streams to access Key Protect`}</h3>\n    <p>{`In IAM application, go to the `}<inlineCode parentName=\"p\">{`Authorizations`}</inlineCode>{` menu:`}</p>\n    <img {...{\n      \"src\": \"./images/key-protect-6.png\",\n      \"alt\": \"kp6\"\n    }}></img>\n    <p>{`And define event streams as the source service, you can specify a specific instance id or any event streams service. The target is the Key Protect instance. The service access is Reader.`}</p>\n    <img {...{\n      \"src\": \"./images/key-protect-7.png\",\n      \"alt\": \"kp7\"\n    }}></img>\n    <p>{`You should get something like:`}</p>\n    <img {...{\n      \"src\": \"./images/key-protect-8.png\",\n      \"alt\": \"kp8\"\n    }}></img>\n    <p>{`Now Event Streams could use your wrapped key to encrypte data at rest.`}</p>\n    <InlineNotification kind=\"warning\" mdxType=\"InlineNotification\">\nTemporarily des-authorizing Event Streams to access Key Protect, will block communication to Event Streams instance.\nLoosing any keys, will mean loosing the data.\nRestoring access by recreating the authorization between ES and Key Protect, will reopen traffic.\nWhen rotating the root key a new rewrapping of DEK is performed and the new key needs to be communicated to Event Streams.\n    </InlineNotification>\n\n    </MDXLayout>;\n}\n;\nMDXContent.isMDXComponent = true;\n      ","// extracted by mini-css-extract-plugin\nmodule.exports = {\"bxTextTruncateEnd\":\"EditLink-module--bx--text-truncate--end--2pqje\",\"bxTextTruncateFront\":\"EditLink-module--bx--text-truncate--front--3_lIE\",\"link\":\"EditLink-module--link--1qzW3\",\"row\":\"EditLink-module--row--1B9Gk\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"bxTextTruncateEnd\":\"PageTabs-module--bx--text-truncate--end--267NA\",\"bxTextTruncateFront\":\"PageTabs-module--bx--text-truncate--front--3xEQF\",\"tabsContainer\":\"PageTabs-module--tabs-container--8N4k0\",\"list\":\"PageTabs-module--list--3eFQc\",\"listItem\":\"PageTabs-module--list-item--nUmtD\",\"link\":\"PageTabs-module--link--1mDJ1\",\"selectedItem\":\"PageTabs-module--selected-item--YPVr3\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"bxTextTruncateEnd\":\"last-modified-date-module--bx--text-truncate--end--123zi\",\"bxTextTruncateFront\":\"last-modified-date-module--bx--text-truncate--front--3xeKz\",\"text\":\"last-modified-date-module--text--24m-4\",\"row\":\"last-modified-date-module--row--2BquN\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"bxTextTruncateEnd\":\"PageHeader-module--bx--text-truncate--end--mZWeX\",\"bxTextTruncateFront\":\"PageHeader-module--bx--text-truncate--front--3zvrI\",\"pageHeader\":\"PageHeader-module--page-header--3hIan\",\"darkMode\":\"PageHeader-module--dark-mode--hBrwL\",\"withTabs\":\"PageHeader-module--with-tabs--3nKxA\",\"text\":\"PageHeader-module--text--o9LFq\"};"],"sourceRoot":""}